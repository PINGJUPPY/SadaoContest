<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏ß‡∏î (Sadao 2569)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        body { font-family: 'Sarabun', sans-serif; background-color: #f0f2f5; padding-bottom: 60px; }
        .header-bg { background: linear-gradient(135deg, #00695c, #4db6ac); color: white; padding: 20px 0; border-radius: 0 0 20px 20px; margin-bottom: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .card-contestant { border: none; border-radius: 15px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: all 0.2s; background: white; border-left: 6px solid #ccc; }
        .card-contestant.active-status { border-left-color: #28a745; background-color: #e8f5e9; transform: scale(1.02); box-shadow: 0 5px 15px rgba(40,167,69,0.2); }
        .category-badge { font-size: 0.8rem; background: #e0f7fa; color: #006064; padding: 4px 10px; border-radius: 20px; font-weight: bold; }
        .btn-refresh { position: fixed; bottom: 20px; right: 20px; border-radius: 50%; width: 60px; height: 60px; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 999; }
    </style>
</head>
<body>

    <div class="header-bg text-center">
        <h3 class="fw-bold m-0">üèÜ ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3>
        <small>‡∏°‡∏´‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏™‡∏á‡∏Ç‡∏•‡∏≤ ‡∏õ‡∏µ 2569</small>
    </div>

    <div class="container" style="max-width: 800px;">
        <div id="contestant-list">
            <div class="text-center py-5">
                <div class="spinner-border text-primary"></div>
                <p class="mt-2 text-muted">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠...</p>
            </div>
        </div>
    </div>

    <button class="btn btn-primary btn-refresh" onclick="loadData()">‚Üª</button>

    <script>
        // üî¥üî¥ 1. ‡πÉ‡∏™‡πà Web App URL ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà üî¥üî¥
        const API_URL = "LINK_WEB_APP_GOOGLE_SCRIPT_‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì_‡πÉ‡∏™‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ";

        // ‚öôÔ∏è 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡∏≤‡∏° PDF (‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏Å‡πâ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
        const CRITERIA = {
            // ‡∏Å‡∏•‡∏∏‡πà‡∏° Oral Presentation (‡∏ß‡∏¥‡∏à‡∏±‡∏¢/R2R/CQI)
            'Oral': [
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ö‡∏ó‡∏Ñ‡∏±‡∏î‡∏¢‡πà‡∏≠/‡∏â‡∏ö‡∏±‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå', max: 80, hint: '‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡∏ó‡∏µ‡πà‡∏°‡∏≤, ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå, ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£, ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå' },
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠/‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå', max: 20, hint: '‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û, ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ, ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°' }
            ],
            // ‡∏Å‡∏•‡∏∏‡πà‡∏° Poster Presentation (‡∏ß‡∏¥‡∏à‡∏±‡∏¢/R2R/‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°)
            'Poster': [
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤', max: 50, hint: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á, ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•' },
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠/‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå', max: 50, hint: '‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û, ‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏†‡∏≤‡∏û, ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ' }
            ],
            // ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏≤
            'Story': [
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á/‡∏ö‡∏ó', max: 70, hint: '‡πÅ‡∏Å‡πà‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à' },
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠', max: 30, hint: '‡∏•‡∏µ‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏≤, ‡∏™‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö, ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°' }
            ],
            // ‡∏Å‡∏•‡∏∏‡πà‡∏° Photo Voice
            'Photo': [
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏≤‡∏û/‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤', max: 30, hint: '‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏û, ‡∏™‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢' },
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ', max: 50, hint: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏°‡∏ä‡∏±‡∏î, ‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö' },
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠', max: 20, hint: '‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û, ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°' }
            ],
            // ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏±‡πâ‡∏ô
            'Film': [
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤', max: 40, hint: '‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏á, ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å' },
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠', max: 20, hint: '‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢, ‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î' },
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ', max: 20, hint: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå, ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô' },
                { name: '‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ñ‡πà‡∏≤‡∏¢‡∏ó‡∏≥', max: 20, hint: '‡∏°‡∏∏‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á, ‡∏ï‡∏±‡∏î‡∏ï‡πà‡∏≠, ‡πÄ‡∏™‡∏µ‡∏¢‡∏á' }
            ],
            // ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏ñ‡πâ‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå Category ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á)
            'Default': [ { name: '‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°', max: 100, hint: '‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏° 100' } ]
        };

        window.onload = loadData;

        function loadData() {
            const btn = document.querySelector('.btn-refresh');
            btn.classList.add('disabled'); // ‡∏Å‡∏±‡∏ô‡∏Å‡∏î‡∏£‡∏±‡∏ß
            
            fetch(API_URL + "?action=getContestants")
                .then(res => res.json())
                .then(data => {
                    renderList(data);
                    btn.classList.remove('disabled');
                })
                .catch(err => {
                    console.error(err);
                    Swal.fire('‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï', 'error');
                    btn.classList.remove('disabled');
                });
        }

        function renderList(data) {
            const container = document.getElementById('contestant-list');
            container.innerHTML = '';

            if(data.length === 0) {
                container.innerHTML = '<div class="text-center mt-5 text-muted">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏Å‡∏ß‡∏î</div>';
                return;
            }

            data.forEach(row => {
                // Mapping: A=0(ID), B=1(Name), C=2(Category), D=3(Org), E=4(Status)
                let id = row[0];
                let name = row[1];
                let category = row[2];
                let org = row[3];
                let status = row[4];

                let isActive = (status === 'Active' || status === 'Presenting');
                let activeClass = isActive ? 'active-status' : '';
                let statusBadge = isActive ? '<span class="badge bg-success mb-2">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠</span>' : '';

                let html = `
                <div class="card card-contestant p-3 ${activeClass}">
                    <div class="d-flex justify-content-between align-items-center">
                        <div style="flex:1;">
                            ${statusBadge}
                            <h5 class="fw-bold mb-1">${name}</h5>
                            <span class="category-badge">${category}</span>
                            <small class="text-muted d-block mt-1">üè• ${org}</small>
                        </div>
                        <button class="btn btn-outline-success rounded-pill px-4 shadow-sm" 
                            onclick="openScoreModal('${id}', '${name}', '${category}')">
                            ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                        </button>
                    </div>
                </div>`;
                container.innerHTML += html;
            });
        }

        async function openScoreModal(id, name, categoryRaw) {
            // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏ô Category
            let key = 'Default';
            if (categoryRaw.includes('Oral') || categoryRaw.includes('R2R') || categoryRaw.includes('CQI')) key = 'Oral';
            else if (categoryRaw.includes('Poster') || categoryRaw.includes('‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°')) key = 'Poster';
            else if (categoryRaw.includes('‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏≤') || categoryRaw.includes('Story')) key = 'Story';
            else if (categoryRaw.includes('Photo')) key = 'Photo';
            else if (categoryRaw.includes('‡∏´‡∏ô‡∏±‡∏á')) key = 'Film';

            const criteriaList = CRITERIA[key];

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
            let formHtml = `<div class="alert alert-secondary text-start py-2"><small>‡πÄ‡∏Å‡∏ì‡∏ë‡πå: ${categoryRaw}</small></div>`;
            criteriaList.forEach((c, i) => {
                formHtml += `
                <div class="mb-3 text-start">
                    <label class="form-label fw-bold">${c.name} <span class="text-muted">(‡πÄ‡∏ï‡πá‡∏° ${c.max})</span></label>
                    <input type="number" id="score_${i}" class="form-control score-input" 
                        placeholder="0-${c.max}" max="${c.max}" oninput="calcTotal()">
                    <div class="form-text text-muted" style="font-size:12px;">${c.hint}</div>
                </div>`;
            });
            formHtml += `<div class="h5 fw-bold text-center mt-3 text-primary">‡∏£‡∏ß‡∏°: <span id="totalDisplay">0</span> / 100</div>`;

            // ‡∏ñ‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£ (‡∏à‡∏≥‡∏Ñ‡πà‡∏≤‡πÑ‡∏ß‡πâ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡∏°‡πà)
            let judge = localStorage.getItem('judge_name');
            if (!judge) {
                const { value: jName } = await Swal.fire({ 
                    title: '‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£', input: 'text', inputPlaceholder: '‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•', confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á' 
                });
                if(!jName) return;
                judge = jName;
                localStorage.setItem('judge_name', judge);
            }

            // ‡πÅ‡∏™‡∏î‡∏á Popup
            const { isConfirmed } = await Swal.fire({
                title: `‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${name}`,
                html: formHtml,
                showCancelButton: true,
                confirmButtonText: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô',
                cancelButtonText: '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å',
                preConfirm: () => {
                    let total = 0;
                    let details = [];
                    for(let i=0; i<criteriaList.length; i++) {
                        let val = parseFloat(document.getElementById(`score_${i}`).value) || 0;
                        if(val > criteriaList[i].max) {
                            Swal.showValidationMessage(`‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà ${i+1} ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏Å‡∏¥‡∏ô ${criteriaList[i].max}`);
                            return false;
                        }
                        total += val;
                        details.push(`${criteriaList[i].name}:${val}`);
                    }
                    return { total, details: details.join('|') };
                }
            });

            if(isConfirmed) {
                // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                const result = Swal.getPopup().querySelector('.swal2-confirm').value; // ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å preConfirm
                // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ß‡∏£‡πå
                let total = 0;
                let detailsStr = "";
                criteriaList.forEach((c, i) => {
                     let val = parseFloat(document.getElementById(`score_${i}`).value) || 0;
                     total += val;
                     detailsStr += `[${c.name}: ${val}] `;
                });

                Swal.fire({title:'‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...', didOpen: () => Swal.showLoading()});
                
                fetch(`${API_URL}?action=submitScore&id=${id}&judge=${judge}&score=${total}&detail=${detailsStr}`)
                    .then(() => Swal.fire('‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢', 'success'))
                    .catch(() => Swal.fire('Error', '‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô', 'error'));
            }
        }

        function calcTotal() {
            let sum = 0;
            document.querySelectorAll('.score-input').forEach(inp => sum += (parseFloat(inp.value) || 0));
            document.getElementById('totalDisplay').innerText = sum;
        }
    </script>
</body>
</html>
